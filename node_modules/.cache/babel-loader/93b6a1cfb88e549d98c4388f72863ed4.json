{"ast":null,"code":"import { SET_POSTS, LOADING_DATA, DELETE_POST, SET_ERRORS, POST_POST, CLEAR_ERRORS, LOADING_UI, SET_POST, STOP_LOADING_UI } from '../types';\nimport axios from 'axios'; // Get all POSTs\n\nexport const getPosts = board => dispatch => {\n  dispatch({\n    type: LOADING_DATA\n  });\n  axios.get(`/posts/${board}`).then(res => {\n    dispatch({\n      type: SET_POSTS,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: SET_POSTS,\n      payload: []\n    });\n  });\n};\nexport const getPost = postId => dispatch => {\n  dispatch({\n    type: LOADING_UI\n  });\n  axios.get(`/post/${postId}`).then(res => {\n    dispatch({\n      type: SET_POST,\n      payload: res.data\n    });\n    dispatch({\n      type: STOP_LOADING_UI\n    });\n  }).catch(err => console.log(err));\n}; // Post a post\n\nexport const createPost = newPost => dispatch => {\n  dispatch({\n    type: LOADING_UI\n  });\n  axios.post('/post', newPost).then(res => {\n    dispatch({\n      type: POST_POST,\n      payload: res.data\n    });\n    dispatch(clearErrors());\n  }).catch(err => {\n    dispatch({\n      type: SET_ERRORS,\n      payload: err.response.data\n    });\n  });\n};\nexport const deletePost = postId => dispatch => {\n  axios.delete(`/post/${postId}`).then(() => {\n    dispatch({\n      type: DELETE_POST,\n      payload: postId\n    });\n  }).catch(err => console.log(err));\n};\nexport const getUserData = userId => dispatch => {\n  dispatch({\n    type: LOADING_DATA\n  });\n  axios.get(`/user/${userId}`).then(res => {\n    dispatch({\n      type: SET_POSTS,\n      payload: res.data.posts\n    });\n  }).catch(() => {\n    dispatch({\n      type: SET_POSTS,\n      payload: null\n    });\n  });\n};\nexport const clearErrors = () => dispatch => {\n  dispatch({\n    type: CLEAR_ERRORS\n  });\n};","map":{"version":3,"sources":["/Users/oyunbilegdavaanyam/Desktop/act2021-team3/src/redux/actions/dataActions.js"],"names":["SET_POSTS","LOADING_DATA","DELETE_POST","SET_ERRORS","POST_POST","CLEAR_ERRORS","LOADING_UI","SET_POST","STOP_LOADING_UI","axios","getPosts","board","dispatch","type","get","then","res","payload","data","catch","err","getPost","postId","console","log","createPost","newPost","post","clearErrors","response","deletePost","delete","getUserData","userId","posts"],"mappings":"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","sourcesContent":["import {\n    SET_POSTS,\n    LOADING_DATA,\n    DELETE_POST,\n    SET_ERRORS,\n    POST_POST,\n    CLEAR_ERRORS,\n    LOADING_UI,\n    SET_POST,\n    STOP_LOADING_UI\n  } from '../types';\n  import axios from 'axios';\n  \n  // Get all POSTs\n  export const getPosts = (board) => (dispatch) => {\n    dispatch({ type: LOADING_DATA });\n    axios\n      .get(`/posts/${board}`)\n      .then((res) => {\n        dispatch({\n          type: SET_POSTS,\n          payload: res.data\n        });\n      })\n      .catch((err) => {\n        dispatch({\n          type: SET_POSTS,\n          payload: []\n        });\n      });\n  };\n  \n  export const getPost = (postId) => (dispatch) => {\n    dispatch({ type: LOADING_UI });\n    axios\n      .get(`/post/${postId}`)\n      .then((res) => {\n        dispatch({\n          type: SET_POST,\n          payload: res.data\n        });\n        dispatch({ type: STOP_LOADING_UI });\n      })\n      .catch((err) => console.log(err));\n  };\n  // Post a post\n  export const createPost = (newPost) => (dispatch) => {\n    dispatch({ type: LOADING_UI });\n    axios\n      .post('/post', newPost)\n      .then((res) => {\n        dispatch({\n          type: POST_POST,\n          payload: res.data\n        });\n        dispatch(clearErrors());\n      })\n      .catch((err) => {\n        dispatch({\n          type: SET_ERRORS,\n          payload: err.response.data\n        });\n      });\n  };\n  \n  export const deletePost = (postId) => (dispatch) => {\n    axios\n      .delete(`/post/${postId}`)\n      .then(() => {\n        dispatch({ type: DELETE_POST, payload: postId });\n      })\n      .catch((err) => console.log(err));\n  };\n  \n  export const getUserData = (userId) => (dispatch) => {\n    dispatch({ type: LOADING_DATA });\n    axios\n      .get(`/user/${userId}`)\n      .then((res) => {\n        dispatch({\n          type: SET_POSTS,\n          payload: res.data.posts\n        });\n      })\n      .catch(() => {\n        dispatch({\n          type: SET_POSTS,\n          payload: null\n        });\n      });\n  };\n  \n  export const clearErrors = () => (dispatch) => {\n    dispatch({ type: CLEAR_ERRORS });\n  };\n  "]},"metadata":{},"sourceType":"module"}